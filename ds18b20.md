### Подключение ds18b20+ к Raspberry Pi 2 B

Использование 1-Wire термометров реализовано на Paspbery Pi очень просто. 
Все, что вам нужно это загрузить два специальные модули ядра и все, можно читать температуру. 
Модули загружаются набором в командной строке следующих команд:
```
sudo modprobe w1-gpio
sudo modprobe w1-therm
```

Первая строка активирует протокол модуля 1-wire на GPIO4. Вторая строка загружает модуль, 
который, собственно, читает температуру с 1-wire шины. Для того, чтобы модули автоматически загружались после п
ерезагрузки или выключения Raspberry Pi, две вышеприведенные строки нужно добавить в файл /etc/modules. 
Делается это так:
```
sudo nano /etc/modules
```
И добавляем в конец файла (если их там нет) две строчки:
w1-gpio
w1-therm

Таким образом вопрос чтения текущей температуры сводится к чтению специального файла. 
Этот файл расположен в каталоге /sys/bus/w1/devices. Этот каталог содержит один или несколько подкаталогов. 
Один, который всегда присутствует, называется w1_bus_master1. Но нас он не интересует. 
Нас интересуют каталоги вида 28-000800575c8b. Для каждого подключенного по 1-wire датчика т
емпературы создается свой такой каталог. Может потребоваться несколько секунд для их появления. 
Название каждого каталога – это уникальный серийный номер датчика ds18b20. 
Если вы подключили более одного датчика по шине, вам придется выяснить какой каталог с 
серийным номером какому датчику принадлежит. Сделать это можно путем прогревания одного датчика, 
считывания температуры со всех датчиков и проверки температура которого именно меняется. 
Или можно подключать датчики поочередно и записывать, какой каталог какому датчику отвечает.

Считать температурные показания датчика можно так (замените серийный номер на номер вашего датчика):
```
cat 28-000800575c8b/w1_slave
```
В результате вы увидите нечто вроде этого:
```
30 00 4b 46 ff ff 0f 10 b8 : crc=b8 YES
30 00 4b 46 ff ff 0f 10 b8 t=23812
```
Шестнадцатеричные числа воспроизводят байтовую информацию, которую датчик вернул вашему Raspberry Pi. 
Первая строка проверяет, корректность контрольной суммы CRC (последний байт ответа должен быть таким же как исчисленная CRC). 
Если все правильно выводится “YES”, если нет – выводится “NO”. Если ответ “NO”, необходимо снова считать данные с датчика, 
ибо данная температура не корректна. Вторая строчка содержит считанную температуру в градусах Цельсия, умноженную на 1000, 
поэтому необходимо разделить ее на 1000, чтобы сделать читабельной для человека.
